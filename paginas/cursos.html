<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Académico - Cursos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/estilos.css">
</head>
<body>
    <header class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">Sistema Académico</span>
            <nav>
                <ul class="nav">
                    <li class="nav-item"><a class="nav-link" href="estudiantes.html">Estudiantes</a></li>
                    <li class="nav-item"><a class="nav-link" href="cursos.html">Cursos</a></li>
                    <li class="nav-item"><a class="nav-link" href="profesores.html">Profesores</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html">Cerrar Sesión</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mt-5 mb-5">
        <!-- Título de la página -->
        <h2 class="mb-4">Gestión de Cursos</h2>

        <!-- FORMULARIO PARA AGREGAR CURSO -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0">Agregar Nuevo Curso</h3>
            </div>
            <div class="card-body">
                <!-- Agregado id="formCurso" para manipulación con JavaScript -->
                <form id="formCurso" novalidate>
                    <!-- Código del Curso -->
                    <div class="mb-3">
                        <label for="codigoCurso" class="form-label">Código del Curso *</label>
                        <input type="text" class="form-control" id="codigoCurso" 
                               placeholder="Ej: CS101" required 
                               pattern="[A-Z]{2,4}\d{3}" title="Formato: 2-4 letras mayúsculas + 3 dígitos">
                        <small class="form-text text-muted">Formato: 2-4 letras mayúsculas + 3 dígitos.</small>
                    </div>

                    <!-- Nombre del Curso -->
                    <div class="mb-3">
                        <label for="nombreCurso" class="form-label">Nombre del Curso *</label>
                        <input type="text" class="form-control" id="nombreCurso" 
                               placeholder="Ej: Introducción a la Programación" required 
                               minlength="5" maxlength="60" 
                               title="El nombre debe tener entre 5 y 60 caracteres">
                        <small class="form-text text-muted">El nombre debe tener entre 5 y 60 caracteres.</small>
                    </div>

                    <!-- Créditos -->
                    <div class="mb-3">
                        <label for="creditosCurso" class="form-label">Créditos *</label>
                        <input type="number" class="form-control" id="creditosCurso" 
                               placeholder="Ej: 4" required 
                               min="1" max="6" title="Los créditos deben estar entre 1 y 6">
                        <small class="form-text text-muted">Los créditos deben estar entre 1 y 6.</small>
                    </div>

                    <!-- Horario -->
                    <div class="mb-3">
                        <label for="horarioCurso" class="form-label">Horario *</label>
                        <input type="text" class="form-control" id="horarioCurso" 
                               placeholder="Ej: Lun-Mié 8:00-10:00" required 
                               title="El horario es requerido">
                        <small class="form-text text-muted">El horario es requerido.</small>
                    </div>

                    <!-- Botones -->
                    <!-- Agregado id="btnAgregarCurso" al botón de envío -->
                    <button type="submit" class="btn btn-primary" id="btnAgregarCurso">Agregar Curso</button>
                    <button type="reset" class="btn btn-secondary">Limpiar</button>
                </form>
            </div>
        </div>

        <!-- TABLA DE CURSOS DESDE SUPABASE -->
        <div class="card">
            <div class="card-header bg-success text-white">
                <h3 class="mb-0">Listado de Cursos</h3>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>Código</th>
                                <th>Nombre</th>
                                <th>Créditos</th>
                                <th>Horario</th>
                            </tr>
                        </thead>
                        <!-- Agregado id="tablaCursos" al tbody para que JavaScript lo pueda manipular -->
                        <tbody id="tablaCursos">
                            <!-- Los datos se cargarán aquí automáticamente desde Supabase -->
                            <tr>
                                <td colspan="4" class="text-center text-muted">Cargando datos...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-dark text-white text-center py-3 mt-5">
        <p>&copy; 2025 Sistema Académico. Todos los derechos reservados.</p>
    </footer>

    <!-- Scripts de Bootstrap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    
    <!-- Agregados scripts de Supabase -->
    <script type="module" src="../js/supabaseClient.js"></script>
    <script type="module" src="../js/cursos.js"></script>
    <!-- Agregar script de Supabase que carga datos de la tabla cursos -->
    <script type="module" src="../js/app.js"></script>
</body>
</html>
